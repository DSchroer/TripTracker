<h2>Post an update!</h2>

<form [formGroup]='form.controls.val'>
    <div class="form-group">
        <label for="titleInput">Title</label>
        <input type="text"
               class="form-control"
               id="titleInput"
               placeholder="Title"
               formControlName='title'
               required>
    </div>

    <div class="form-group">
        <label for="dateInput">Date</label>
        <input type="date"
               class="form-control"
               id="dateInput"
               placeholder="Date"
               [(ngModel)]="editedDate"
               [ngModelOptions]="{standalone: true}"
               (ngModelChange)="setDate($event)"
               required>
    </div>

    <div class="form-group">
        <label for="descriptionInput">Description</label>
        <textarea class="form-control"
                  id="descriptionInput"
                  formControlName='description'
                  rows="3"></textarea>
    </div>

    <app-location formControlName='location'></app-location>

    <app-photo formControlName='photos'></app-photo>

    <div>
        <button type="submit"
                class="btn btn-primary"
                (click)='onSubmit()'>Submit</button>

        <button *ngIf='form.controls.id.value'
                class="btn btn-danger float-right"
                (click)='onDelete()'>Delete</button>
    </div>
</form>

<div *ngIf='error'
     class="alert alert-danger mt-3"
     role="alert">
    {{error}}
</div>